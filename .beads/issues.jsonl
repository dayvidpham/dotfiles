{"id":"dotfiles-0aa","title":"Test issue","status":"tombstone","priority":2,"issue_type":"task","owner":"dayvidpham@gmail.com","created_at":"2026-01-30T07:59:14.581040527-08:00","created_by":"David Huu Pham","updated_at":"2026-01-30T08:01:43.529450482-08:00","deleted_at":"2026-01-30T08:01:43.529450482-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-1ay","title":"CODE-REVIEW-2: Post-UAT security hardening review","description":"Review security hardening changes made during UAT:\n- Firewall enabled (defense-in-depth)\n- Removed sudo/wheel access from agent user\n- Kernel hardening sysctls (kptr_restrict, dmesg_restrict, unprivileged_bpf_disabled, ptrace_scope)\n- Locked kernel modules after boot\n- Added bun and uv packages\n\nVerify these changes follow security best practices and don't break functionality.","status":"closed","priority":2,"issue_type":"task","owner":"dayvidpham@gmail.com","created_at":"2026-01-31T15:01:55.854147106-08:00","created_by":"David Huu Pham","updated_at":"2026-01-31T15:14:58.287696595-08:00","closed_at":"2026-01-31T15:14:58.287696595-08:00","close_reason":"ACCEPT - All reviewer concerns addressed: nix restricted to root, workspace hardened with noexec/nosuid/nodev, comments accurate","labels":["aura:code-review"],"dependencies":[{"issue_id":"dotfiles-1ay","depends_on_id":"dotfiles-mol-46j","type":"blocks","created_at":"2026-01-31T15:02:05.758207944-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-gw0","title":"SLICE-1: NixOS llm-sandbox module","description":"## Specification\n\nCreate NixOS module for microvm.nix-based LLM agent sandbox.\n\n## Files to Create/Modify\n\n1. **modules/nixos/virtualisation/llm-sandbox/default.nix** (NEW)\n   - Options: CUSTOM.virtualisation.llm-sandbox.enable, vm.vcpu, vm.mem, workspace.hostPath\n   - Configure microvm.nix with QEMU hypervisor\n   - virtio-fs share for workspace\n   - VSOCK communication (CID=3)\n\n2. **modules/nixos/virtualisation/llm-sandbox/guest.nix** (NEW)\n   - Guest NixOS configuration\n   - Packages: claude-code (from llm-agents overlay), tmux, python3, nodejs, git, curl, jq, ripgrep, coreutils\n   - No TCP/IP networking\n   - Read-only rootfs, /workspace writable\n\n3. **modules/nixos/virtualisation/default.nix** (MODIFY)\n   - Add ./llm-sandbox to imports\n\n4. **flake.nix** (MODIFY)\n   - Add microvm.nix flake input\n   - Follow nixpkgs\n\n## Existing Patterns to Follow\n\n- See modules/nixos/virtualisation/podman/default.nix for module structure\n- See modules/nixos/virtualisation/libvirtd/default.nix for virtualisation patterns\n- Use CUSTOM.virtualisation.* namespace\n- llm-agents overlay already in flake.nix provides claude-code\n\n## Acceptance Criteria\n\nGiven NixOS host with llm-sandbox enabled\nWhen system builds\nThen microvm@llm-sandbox service exists\n\nGiven microvm starts\nWhen VM boots\nThen claude-code and tmux are available\n\nGiven file written to /workspace in VM\nWhen virtio-fs syncs\nThen file appears at workspace.hostPath on host\n\n## Validation Checklist\n\n- [ ] flake.nix has microvm input\n- [ ] Module options defined with mkEnableOption/mkOption\n- [ ] Guest config has all required packages\n- [ ] virtio-fs share configured\n- [ ] VSOCK enabled, no TCP/IP\n- [ ] Imports updated in virtualisation/default.nix","notes":"Implementation complete. Files created/modified: flake.nix (microvm input added), modules/nixos/virtualisation/default.nix (llm-sandbox import added), modules/nixos/virtualisation/llm-sandbox/default.nix (main module created)","status":"closed","priority":2,"issue_type":"task","owner":"dayvidpham@gmail.com","created_at":"2026-01-30T08:38:35.246416596-08:00","created_by":"David Huu Pham","updated_at":"2026-01-30T08:59:52.353143877-08:00","closed_at":"2026-01-30T08:59:52.353143877-08:00","close_reason":"Implementation complete","dependencies":[{"issue_id":"dotfiles-gw0","depends_on_id":"dotfiles-mol-abb","type":"blocks","created_at":"2026-01-30T08:38:40.442112902-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-0ah","title":"CODE-REVIEW-1","description":"VOTE: ACCEPT\n\n**Code Quality:** Excellent. The module follows standard NixOS patterns correctly:\n- Proper use of mkIf, mkOption, mkEnableOption, types\n- Well-structured options hierarchy (vm.vcpu, vm.mem, workspace.hostPath, vsock.cid)\n- Clean separation of host and guest configuration\n- Consistent with other modules in the repo (e.g., podman/default.nix)\n- Good use of let bindings to capture values before guest config closure\n\n**Correctness:** Will work correctly with microvm.nix:\n- microvm.nix host module is imported at flake level (microvm.nixosModules.host)\n- microvm input is passed via specialArgs for module access\n- Guest config uses correct microvm options per documentation:\n  - microvm.hypervisor = \"qemu\" (required for virtio-fs + VSOCK)\n  - microvm.vsock.cid correctly configured\n  - microvm.shares with proto = \"virtiofs\" and proper tag/mountPoint\n  - microvm.interfaces = [] enforces no network interfaces\n- Guest fileSystems.\"/workspace\" correctly mounts virtio-fs share\n- writableStoreOverlay = null is appropriate for read-only Nix store\n\n**Security:** VSOCK-only networking is properly enforced:\n- interfaces = [] ensures no TAP/bridge network devices\n- networking.useDHCP = false disables DHCP client\n- services.openssh.enable = false prevents SSH server\n- No TCP/IP stack attack surface - only VSOCK communication possible\n- Guest-to-host communication isolated to CID-based addressing\n\n**Issues Found:** None critical. Minor observations:\n1. The flake imports microvm.nixosModules.host at flake level AND the module sets microvm.host.enable = true. This is fine but slightly redundant (the nixosModules.host includes the option definitions, enabling it activates behavior)\n2. stateVersion = \"25.11\" is forward-looking (matches nixpkgs-25.11 in flake)\n3. curl is included but no network - fine for local file fetching\n\n**Acceptance Criteria Verification:**\n- [x] microvm@llm-sandbox service will be available when enabled\n- [x] Guest has claude-code, tmux, python3, nodejs, core tools (git, jq, ripgrep, coreutils, etc.)\n- [x] virtio-fs workspace sharing configured with configurable hostPath\n- [x] VSOCK enabled with configurable CID, no TCP/IP\n\n**Suggestions (non-blocking):**\n1. Consider adding a vm.hypervisor option for future flexibility (cloud-hypervisor also supports virtiofs+vsock)\n2. Consider documenting the VSOCK CID reservation (2=host, 3=default guest)\n3. The agent user has wheel group + passwordless sudo which is appropriate for isolated sandbox","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.00482484-08:00","updated_at":"2026-01-30T09:01:35.82367968-08:00","closed_at":"2026-01-30T09:01:35.82367968-08:00","close_reason":"ACCEPT - Code review complete","dependencies":[{"issue_id":"dotfiles-mol-0ah","depends_on_id":"dotfiles-mol-e0l","type":"parent-child","created_at":"2026-01-30T08:07:38.018613697-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-0d2","title":"Gate: human","description":"Async gate for step elicit","status":"closed","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:07:38.001697624-08:00","updated_at":"2026-01-30T08:14:28.115177253-08:00","closed_at":"2026-01-30T08:14:28.115177253-08:00","close_reason":"REQUEST phase complete, proceeding to ELICIT","dependencies":[{"issue_id":"dotfiles-mol-0d2","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.007859031-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-0ol","title":"LANDING: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.559597333-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-0zg","title":"IMPL-AGGREGATE: QEMU microVM NixOS Sandbox for LLM Agents","description":"Aggregate all slice implementations. Check that all dynamically-spawned slices are complete before proceeding.","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.558060405-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-11g","title":"PROPOSAL-1: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:10:26.555847523-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-1a1","title":"Gate: human","description":"Async gate for step elicit","status":"tombstone","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:10:26.555596681-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"gate","await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-1db","title":"aura-slice","description":"Vertical slice implementation template - bonded dynamically to impl-plan","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:03:32.65396004-08:00","updated_at":"2026-01-30T08:03:47.04705643-08:00","deleted_at":"2026-01-30T08:03:47.04705643-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-1fv","title":"Gate: human","description":"Async gate for step plan-uat","status":"open","priority":2,"issue_type":"gate","created_at":"2026-01-31T16:55:13.564880751-08:00","updated_at":"2026-01-31T16:55:13.564880781-08:00","dependencies":[{"issue_id":"dotfiles-mol-1fv","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.575456782-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-1mv","title":"aura-epoch","description":"Full 12-phase audit-trail workflow with URE and UAT checkpoints","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-31T16:55:13.56138007-08:00","updated_at":"2026-01-31T16:55:13.56138011-08:00"}
{"id":"dotfiles-mol-2h5","title":"REQUEST: QEMU microVM NixOS Sandbox for LLM Agents","description":"Implement the qemu-microvm-nix-llm.md plan","status":"tombstone","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:10:26.555044019-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-46j","title":"IMPL-UAT: QEMU microVM NixOS Sandbox for LLM Agents","notes":"## UAT Results\n\n**Vision Match:** Mostly yes (minor adjustments possible)\n**Security:** Right level\n**Tooling:** Right set\n**Decision:** ACCEPT\n\nUser accepted implementation with security hardening changes:\n- Firewall enabled (defense-in-depth)\n- Removed sudo/wheel access\n- Kernel hardening sysctls\n- Locked kernel modules\n- Added bun and uv packages","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.005521013-08:00","updated_at":"2026-01-31T15:08:23.225055181-08:00","closed_at":"2026-01-31T15:08:23.225055181-08:00","close_reason":"UAT ACCEPT - User approved implementation","dependencies":[{"issue_id":"dotfiles-mol-46j","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.020678309-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-46j","depends_on_id":"dotfiles-mol-rpk","type":"blocks","created_at":"2026-01-30T08:07:38.022009108-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-46j","depends_on_id":"dotfiles-mol-0ah","type":"blocks","created_at":"2026-01-30T08:07:38.032313235-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-46j","depends_on_id":"dotfiles-mol-eyl","type":"blocks","created_at":"2026-01-30T08:07:38.033179488-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-46j","depends_on_id":"dotfiles-mol-ak4","type":"blocks","created_at":"2026-01-30T08:07:38.034036384-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-4yk","title":"Gate: human","description":"Async gate for step step2","status":"tombstone","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:04:22.435832893-08:00","updated_at":"2026-01-30T08:04:38.696179129-08:00","deleted_at":"2026-01-30T08:04:38.696179129-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"gate","await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-6k1","title":"REVIEW-3: proposal-1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.556726601-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-6ut","title":"REVIEW: proposal-1","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:10:26.556073299-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-7a5","title":"Step 6","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.451531449-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-7mu","title":"test-gate","description":"Test formula with gates","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:04:22.434863055-08:00","updated_at":"2026-01-30T08:04:38.696179129-08:00","deleted_at":"2026-01-30T08:04:38.696179129-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-7q3","title":"Gate: human","description":"Async gate for step plan-uat","status":"tombstone","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:10:26.557168544-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"gate","await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-7rv","title":"LANDING: QEMU microVM NixOS Sandbox for LLM Agents","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.005995838-08:00","updated_at":"2026-01-31T15:15:59.703240286-08:00","closed_at":"2026-01-31T15:15:59.703240286-08:00","close_reason":"Committed: 027a39b - Security hardening complete","dependencies":[{"issue_id":"dotfiles-mol-7rv","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.022675936-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-7rv","depends_on_id":"dotfiles-mol-46j","type":"blocks","created_at":"2026-01-30T08:07:38.034891126-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-7rv","depends_on_id":"dotfiles-1ay","type":"blocks","created_at":"2026-01-31T15:02:05.800458987-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-7ul","title":"Child 2","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:38.80835636-08:00","updated_at":"2026-01-30T08:04:54.733487284-08:00","deleted_at":"2026-01-30T08:04:54.733487284-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-89t","title":"CODE-REVIEW-3","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.55894349-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-8dh","title":"Step 2: Test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:22.435594704-08:00","updated_at":"2026-01-30T08:04:38.696179129-08:00","deleted_at":"2026-01-30T08:04:38.696179129-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-8gw","title":"ELICIT: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:10:26.5553683-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-8sn","title":"Step 4","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:05:12.450346736-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-97q","title":"ELICIT: QEMU microVM NixOS Sandbox for LLM Agents","description":"## User Requirements Elicitation Survey\n\n### End Vision\nQ: What is your end vision for how you'll use this sandbox?\nA: Multi-agent orchestration, Local dev sandbox, CI/CD integration\n\n### MVP Scope\nQ: What is the MVP that would be useful to you right now?\nA: Single VM + VSOCK, virtio-fs workspace\n\n### Hypervisor Choice\nQ: Which hypervisor do you want to target first?\nA: QEMU (recommended) - Full virtio-fs + VSOCK support, ~300ms startup\n\n### Implementation Location\nQ: Where should this implementation live in your dotfiles?\nA: modules/nixos/llm-sandbox/ (NixOS module)\n\n### Host OS\nQ: What host OS will run the sandbox?\nA: NixOS (full) - Use NixOS module\n\n### VM Lifecycle\nQ: How should VMs be managed/started?\nA: systemd service + tmux integration\n\n### VM Packages\nQ: What agent tools need to be available inside the VM?\nA: Core CLI tools, Python runtime, Node.js runtime\n\n### Security\nQ: Any specific security constraints beyond the VM isolation?\nA: VSOCK-only networking, seccomp profiles, Read-only root, Default hardening (ALL)\n\n### Other Requirements\nQ: Is there anything else important for this implementation?\nA: Integrate with existing tmux config, Claude Code specific, Metrics/logging","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:07:38.001462611-08:00","updated_at":"2026-01-30T08:19:50.64628071-08:00","closed_at":"2026-01-30T08:19:50.64628071-08:00","close_reason":"Elicitation complete, requirements captured","dependencies":[{"issue_id":"dotfiles-mol-97q","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.00720123-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-97q","depends_on_id":"dotfiles-mol-0d2","type":"blocks","created_at":"2026-01-30T08:07:38.0085108-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-97q","depends_on_id":"dotfiles-mol-qc1","type":"blocks","created_at":"2026-01-30T08:07:38.023368712-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-9ba","title":"REVIEW-1: proposal-1","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.563835099-08:00","updated_at":"2026-01-31T16:55:13.563835139-08:00","dependencies":[{"issue_id":"dotfiles-mol-9ba","depends_on_id":"dotfiles-mol-u4u","type":"parent-child","created_at":"2026-01-31T16:55:13.572716586-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-9l9","title":"Step 2: Test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:08.086990794-08:00","updated_at":"2026-01-30T08:04:22.323491741-08:00","deleted_at":"2026-01-30T08:04:22.323491741-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-9nd","title":"IMPL-AGGREGATE: Web Terminal Access for llm-sandbox microVM","description":"Aggregate all slice implementations. Check that all dynamically-spawned slices are complete before proceeding.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.565894923-08:00","updated_at":"2026-01-31T16:55:13.565894953-08:00","dependencies":[{"issue_id":"dotfiles-mol-9nd","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.578915434-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-9nd","depends_on_id":"dotfiles-mol-e0h","type":"blocks","created_at":"2026-01-31T16:55:13.592390812-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-9sn","title":"Step 3","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.450130748-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-a6y","title":"Gate: human","description":"Async gate for step impl-uat","status":"open","priority":2,"issue_type":"gate","created_at":"2026-01-31T16:55:13.567572607-08:00","updated_at":"2026-01-31T16:55:13.567572647-08:00","dependencies":[{"issue_id":"dotfiles-mol-a6y","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.583075277-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-a9e","title":"IMPL-PLAN: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"epic","assignee":"supervisor","created_at":"2026-01-30T08:10:26.55784004-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-abb","title":"IMPL-PLAN: QEMU microVM NixOS Sandbox for LLM Agents","description":"## Implementation Plan: QEMU microVM NixOS Sandbox\n\n**RATIFIED_PLAN:** dotfiles-mol-qmw\n**Based on:** UAT revised scope - minimal MVP\n\n---\n\n## Vertical Slice Decomposition\n\nThis is a **single vertical slice** - one cohesive NixOS module. No horizontal layering needed since there are no shared dependencies or parallel workers required.\n\n### Slice 1: NixOS Module for microvm.nix LLM Sandbox\n\n**Files to create:**\n\n1. `modules/nixos/virtualisation/llm-sandbox/default.nix`\n   - Main NixOS module with CUSTOM.virtualisation.llm-sandbox options\n   - Configures microvm.nix with QEMU hypervisor\n   - Sets up virtio-fs share and VSOCK\n\n2. `modules/nixos/virtualisation/llm-sandbox/guest.nix`\n   - Guest NixOS configuration\n   - Packages: claude-code (from llm-agents), tmux, python, nodejs, git, curl, jq, ripgrep\n   - VSOCK-only networking (no TCP/IP)\n   - Read-only rootfs with /workspace writable\n\n3. `modules/nixos/virtualisation/default.nix`\n   - Update imports to include llm-sandbox\n\n4. `flake.nix`\n   - Add microvm.nix flake input\n   - Pass to specialArgs\n\n---\n\n## Acceptance Criteria\n\n**Given** NixOS host imports llm-sandbox module\n**When** module is enabled  \n**Then** microvm@llm-sandbox service is available\n\n**Given** user starts the microVM\n**When** VM boots\n**Then** Claude Code and tmux are available inside guest\n\n**Given** file written to /workspace inside VM\n**When** virtio-fs syncs\n**Then** file appears on host at configured workspace path\n\n**Given** guest networking\n**When** inspected\n**Then** no TCP/IP interfaces exist, only VSOCK\n\n---\n\n## Validation Checklist\n\n- [ ] microvm.nix flake input added to flake.nix\n- [ ] NixOS module created at modules/nixos/virtualisation/llm-sandbox/\n- [ ] Guest config includes claude-code, tmux, python, nodejs, core tools\n- [ ] virtio-fs configured for /workspace\n- [ ] VSOCK enabled (CID=3)\n- [ ] No TCP/IP networking in guest\n- [ ] Module imported in virtualisation/default.nix\n- [ ] VM boots successfully with microvm CLI\n- [ ] Files sync between host and guest via virtio-fs","status":"closed","priority":2,"issue_type":"epic","assignee":"supervisor","created_at":"2026-01-30T08:07:38.00411408-08:00","updated_at":"2026-01-30T08:59:47.921974254-08:00","closed_at":"2026-01-30T08:59:47.921974254-08:00","close_reason":"All slices implemented","dependencies":[{"issue_id":"dotfiles-mol-abb","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.016607505-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-abb","depends_on_id":"dotfiles-mol-awz","type":"blocks","created_at":"2026-01-30T08:07:38.029634725-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-ajy","title":"Child 2","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.450814668-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-ak4","title":"CODE-REVIEW-3","description":"VOTE: ACCEPT\n\n**Code Quality:** EXCELLENT\n- Follows established NixOS module patterns consistent with sibling modules (podman, libvirtd)\n- Clean separation of options and config using mkIf\n- Proper use of mkEnableOption, mkOption with types, defaults, descriptions, and examples\n- Good use of let binding to capture config values for guest closure\n- Inline guest configuration is well-structured and readable\n\n**Correctness:** GOOD\n- microvm.nix input properly added to flake.nix (line 49-52) with nixpkgs.follows\n- microvm.nixosModules.host correctly added to NixOS configurations (flowX13, desktop)\n- microvm is passed through specialArgs for module access\n- Guest config correctly sets microvm.hypervisor = \"qemu\", vcpu, mem\n- virtio-fs share properly configured with tag, source, mountPoint, proto\n- fileSystems.\"/workspace\" correctly mounts the virtiofs share\n- writableStoreOverlay = null is correct for read-only nix store sharing\n\n**Security:** EXCELLENT\n- VSOCK-only networking is properly enforced:\n  - networking.useDHCP = false\n  - networking.firewall.enable = false (no firewall needed without network)\n  - services.openssh.enable = false (no SSH, no attack surface)\n  - microvm.interfaces = [ ] (empty - no network interfaces)\n  - microvm.vsock.cid configured for host-guest communication\n- Sandbox is effectively air-gapped from network\n- Passwordless sudo is acceptable given the isolated sandbox context\n\n**Issues Found:** None critical.\n\nMinor observations (not blocking):\n1. system.stateVersion = \"25.11\" - ensure this matches nixpkgs version being used\n2. tmpfiles rule uses root:root ownership - consider if agent user needs write access\n3. curl is in guest packages but network is disabled (only useful for VSOCK proxying scenarios)\n\n**Suggestions:**\n1. Consider adding a comment explaining that curl requires a VSOCK-to-HTTP proxy on host to function\n2. Could add optional readonly mode for workspace mount for even tighter security\n3. Consider adding bash completion for claude-code in guest\n\n**Acceptance Criteria Verification:**\n- [x] microvm@llm-sandbox service will be available when enabled (microvm.vms.llm-sandbox configured)\n- [x] Guest has claude-code, tmux, python, nodejs, core tools (lines 99-129)\n- [x] virtio-fs workspace sharing configured (lines 158-165, 180-183)\n- [x] VSOCK enabled with configurable CID (lines 54-60, 168-170)\n- [x] No TCP/IP networking (interfaces = [], useDHCP = false)\n\nThe implementation is clean, secure, and complete. Ready for merge.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.005289947-08:00","updated_at":"2026-01-30T09:01:35.911580586-08:00","closed_at":"2026-01-30T09:01:35.911580586-08:00","close_reason":"ACCEPT - Code review complete","dependencies":[{"issue_id":"dotfiles-mol-ak4","depends_on_id":"dotfiles-mol-e0l","type":"parent-child","created_at":"2026-01-30T08:07:38.019993739-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-awz","title":"HANDOFF: QEMU microVM NixOS Sandbox for LLM Agents","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.003898604-08:00","updated_at":"2026-01-30T08:37:22.876158397-08:00","closed_at":"2026-01-30T08:37:22.876158397-08:00","close_reason":"Handoff complete - proceeding to supervisor","dependencies":[{"issue_id":"dotfiles-mol-awz","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.01594219-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-awz","depends_on_id":"dotfiles-mol-qmw","type":"blocks","created_at":"2026-01-30T08:07:38.02879901-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-bce","title":"REVIEW: proposal-1","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:07:38.002192387-08:00","updated_at":"2026-01-31T15:16:03.008142763-08:00","closed_at":"2026-01-31T15:16:03.008142763-08:00","close_reason":"All reviews complete","dependencies":[{"issue_id":"dotfiles-mol-bce","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.00986348-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-bce","depends_on_id":"dotfiles-mol-ns6","type":"blocks","created_at":"2026-01-30T08:07:38.024772428-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-bki","title":"LANDING: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.567819602-08:00","updated_at":"2026-01-31T16:55:13.567819642-08:00","dependencies":[{"issue_id":"dotfiles-mol-bki","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.584489073-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-bki","depends_on_id":"dotfiles-mol-fhl","type":"blocks","created_at":"2026-01-31T16:55:13.59726929-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-c4x","title":"UAT-1: QEMU microVM NixOS Sandbox for LLM Agents","description":"## Plan UAT Results\n\n### Vision Match\nQ: Does this plan match your end vision?\nA: No - Don't need custom llm-sandbox CLI. For MVP just need start/stop SOMEHOW.\n\n### MVP Scope\nQ: Is the MVP scope appropriate?\nA: Too much, Wrong focus - Just literally need Claude Code and tmux in a microVM\n\n### Concerns\nA: No concerns\n\n### Decision\nA: **ACCEPT** - with simplified scope\n\n---\n\n## Revised MVP Scope\n\n**What user actually needs:**\n- microVM with Claude Code + tmux inside\n- Some way to start/stop it (microvm CLI or systemd, not custom)\n- virtio-fs workspace for file sharing\n- VSOCK for communication (no TCP/IP)\n\n**Removed from MVP:**\n- Custom llm-sandbox CLI wrapper\n- Orchestrator/supervisor\n- Multi-pane tmux monitoring on host\n- Fancy logging infrastructure\n\n**Simplified deliverable:**\n- NixOS module that configures microvm.nix\n- Guest has: Claude Code, tmux, core tools\n- Start with: microvm -c llm-sandbox (or systemctl start microvm@llm-sandbox)\n- Workspace shared via virtio-fs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.003172535-08:00","updated_at":"2026-01-30T08:36:45.432677072-08:00","closed_at":"2026-01-30T08:36:45.432677072-08:00","close_reason":"UAT ACCEPT - with simplified MVP scope","dependencies":[{"issue_id":"dotfiles-mol-c4x","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.012744331-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-c4x","depends_on_id":"dotfiles-mol-hoq","type":"blocks","created_at":"2026-01-30T08:07:38.014567027-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-c4x","depends_on_id":"dotfiles-mol-z4m","type":"blocks","created_at":"2026-01-30T08:07:38.025501703-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-c4x","depends_on_id":"dotfiles-mol-j53","type":"blocks","created_at":"2026-01-30T08:07:38.02624267-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-c4x","depends_on_id":"dotfiles-mol-poa","type":"blocks","created_at":"2026-01-30T08:07:38.026965443-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-c9d","title":"CODE-REVIEW-1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.55850302-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-cb4","title":"aura-epoch","description":"Full 12-phase audit-trail workflow with URE and UAT checkpoints","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:10:26.554241526-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-cd2","title":"Step 1: Test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.449625927-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-ceq","title":"REVIEW-2: proposal-1","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.564079099-08:00","updated_at":"2026-01-31T16:55:13.564079129-08:00","dependencies":[{"issue_id":"dotfiles-mol-ceq","depends_on_id":"dotfiles-mol-u4u","type":"parent-child","created_at":"2026-01-31T16:55:13.573415333-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-d5c","title":"REQUEST: Web Terminal Access for llm-sandbox microVM","description":"Enable browser-based terminal access to the llm-sandbox microVM which uses VSOCK-only communication (no TCP/IP). Architecture: Browser → ttyd WebSocket (:7681) → socat VSOCK-CONNECT:3:5000 → Guest vsock-console service → login shell as agent user. Implementation requires: (1) Guest: add socat + vsock-console systemd service in guest.nix, (2) Host: add ttyd service with VSOCK bridge in default.nix. Security: ttyd binds localhost only, checkOrigin enabled, VSOCK is hypervisor-isolated, auto-login as unprivileged agent user.","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-31T16:55:13.562317267-08:00","updated_at":"2026-01-31T16:59:17.664614458-08:00","closed_at":"2026-01-31T16:59:17.664614458-08:00","close_reason":"Request captured from previous planning session","dependencies":[{"issue_id":"dotfiles-mol-d5c","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.568261616-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-e0h","title":"IMPL-PLAN: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"epic","assignee":"supervisor","created_at":"2026-01-31T16:55:13.565662695-08:00","updated_at":"2026-01-31T16:55:13.565662725-08:00","dependencies":[{"issue_id":"dotfiles-mol-e0h","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.578227496-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-e0h","depends_on_id":"dotfiles-mol-ib4","type":"blocks","created_at":"2026-01-31T16:55:13.591528536-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-e0l","title":"CODE-REVIEW: QEMU microVM NixOS Sandbox for LLM Agents","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:07:38.00459123-08:00","updated_at":"2026-01-31T15:16:03.013498636-08:00","closed_at":"2026-01-31T15:16:03.013498636-08:00","close_reason":"All reviews complete","dependencies":[{"issue_id":"dotfiles-mol-e0l","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.017954524-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-e0l","depends_on_id":"dotfiles-mol-svp","type":"blocks","created_at":"2026-01-30T08:07:38.031430932-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-e6e","title":"CODE-REVIEW: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-31T16:55:13.566154863-08:00","updated_at":"2026-01-31T16:55:13.566154893-08:00","dependencies":[{"issue_id":"dotfiles-mol-e6e","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.579600876-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-e6e","depends_on_id":"dotfiles-mol-9nd","type":"blocks","created_at":"2026-01-31T16:55:13.593260281-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-eh0","title":"Child 1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:38.808112911-08:00","updated_at":"2026-01-30T08:04:54.733487284-08:00","deleted_at":"2026-01-30T08:04:54.733487284-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-ei3","title":"REVIEW-3: proposal-1","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.564358536-08:00","updated_at":"2026-01-31T16:55:13.564358566-08:00","dependencies":[{"issue_id":"dotfiles-mol-ei3","depends_on_id":"dotfiles-mol-u4u","type":"parent-child","created_at":"2026-01-31T16:55:13.574095045-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-eyl","title":"CODE-REVIEW-2","description":"VOTE: ACCEPT\n\n**Code Quality:** Good - follows existing codebase patterns, proper NixOS module structure, clean option definitions with documentation\n\n**Correctness:** Good - proper microvm.nix integration, correct flake.nix wiring (input, specialArgs, nixosModules.host), inline guest config follows expected API\n\n**Security:** Excellent - VSOCK-only networking properly enforced (no DHCP, no interfaces, SSH disabled, firewall disabled since no TCP/IP needed), no network attack surface\n\n**Issues Found:**\n1. Minor: Redundant fileSystems./workspace entry (microvm.shares should auto-mount)\n2. Minor: Hardcoded stateVersion \"25.11\" instead of parameterized\n3. Very minor: Unnecessary lib ? pkgs.lib fallback on line 3\n\n**All Acceptance Criteria Met:**\n- microvm@llm-sandbox service: YES (microvm.vms.llm-sandbox creates systemd service)\n- Guest packages: YES (claude-code, tmux, python3, nodejs, git, curl, jq, ripgrep, coreutils, etc.)\n- virtio-fs workspace: YES (properly configured in microvm.shares)\n- VSOCK enabled: YES (cid configurable via options)\n- No TCP/IP: YES (verified - no interfaces, no DHCP, no SSH)\n\n**Suggestions:**\n1. Consider removing redundant fileSystems entry (lines 180-183)\n2. Explicitly add boot.kernelModules = [\"virtio_vsock\"] for clarity\n3. Future: add helper scripts for VM console access and VSOCK communication\n\nImplementation is solid, secure, and ready for merge.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.005062268-08:00","updated_at":"2026-01-30T09:01:35.868959098-08:00","closed_at":"2026-01-30T09:01:35.868959098-08:00","close_reason":"ACCEPT - Code review complete","dependencies":[{"issue_id":"dotfiles-mol-eyl","depends_on_id":"dotfiles-mol-e0l","type":"parent-child","created_at":"2026-01-30T08:07:38.019313256-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-fbf","title":"PROPOSAL-1: Web Terminal Access for llm-sandbox microVM","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-31T16:55:13.563280243-08:00","updated_at":"2026-01-31T16:59:43.261033032-08:00","closed_at":"2026-01-31T16:59:43.261033032-08:00","close_reason":"Plan proposed in previous session: guest vsock-console service + host ttyd bridge","dependencies":[{"issue_id":"dotfiles-mol-fbf","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.571288002-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-fbf","depends_on_id":"dotfiles-mol-yy2","type":"blocks","created_at":"2026-01-31T16:55:13.585895665-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-fhl","title":"IMPL-UAT: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.567320481-08:00","updated_at":"2026-01-31T16:55:13.567320511-08:00","dependencies":[{"issue_id":"dotfiles-mol-fhl","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.58235544-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-fhl","depends_on_id":"dotfiles-mol-a6y","type":"blocks","created_at":"2026-01-31T16:55:13.583788532-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-fhl","depends_on_id":"dotfiles-mol-vy7","type":"blocks","created_at":"2026-01-31T16:55:13.594498356-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-fhl","depends_on_id":"dotfiles-mol-w5p","type":"blocks","created_at":"2026-01-31T16:55:13.595443748-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-fhl","depends_on_id":"dotfiles-mol-vdm","type":"blocks","created_at":"2026-01-31T16:55:13.596365686-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-ga0","title":"CODE-REVIEW: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:10:26.558276863-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-gus","title":"aura-epoch","description":"Full 12-phase audit-trail workflow with URE and UAT checkpoints","status":"closed","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:07:38.000678783-08:00","updated_at":"2026-01-31T15:16:06.314448716-08:00","closed_at":"2026-01-31T15:16:06.314448716-08:00","close_reason":"Epoch complete: QEMU microVM NixOS Sandbox for LLM Agents - landed with security hardening"}
{"id":"dotfiles-mol-h94","title":"Child 1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.450583071-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-hoq","title":"Gate: human","description":"Async gate for step plan-uat","status":"closed","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:07:38.003417206-08:00","updated_at":"2026-01-30T08:34:14.668281048-08:00","closed_at":"2026-01-30T08:34:14.668281048-08:00","close_reason":"Review consensus reached (3/3 ACCEPT), proceeding to UAT","dependencies":[{"issue_id":"dotfiles-mol-hoq","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.013607609-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-ib4","title":"HANDOFF: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.565418495-08:00","updated_at":"2026-01-31T16:55:13.565418525-08:00","dependencies":[{"issue_id":"dotfiles-mol-ib4","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.57752378-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-ib4","depends_on_id":"dotfiles-mol-pu9","type":"blocks","created_at":"2026-01-31T16:55:13.590673614-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-j53","title":"REVIEW-2: proposal-1","description":"VOTE: ACCEPT\n\n**Justification:** The proposal is well-structured, aligns with user requirements, and makes sound technical tradeoffs. The MVP scope is appropriate - single VM with VSOCK + virtio-fs provides a minimal but complete foundation. The file structure follows existing codebase conventions, and integration points with existing tmux config are identified.\n\n**Concerns:**\n1. The existing llm-agents flake input should be evaluated for overlap\n2. Resource cleanup on crash needs consideration\n3. Home-manager vs NixOS split for tmux integration could be clearer\n\n**Suggestions:**\n1. Consider simpler shell-script CLI for MVP instead of Python orchestrator/supervisor\n2. Add explicit NixOS VM test module in validation checklist\n3. Document relationship to existing llm-agents flake input\n4. Consider adding systemd watchdog for crash recovery","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.002669256-08:00","updated_at":"2026-01-30T08:34:03.681644851-08:00","closed_at":"2026-01-30T08:34:03.681644851-08:00","close_reason":"ACCEPT - Review complete","dependencies":[{"issue_id":"dotfiles-mol-j53","depends_on_id":"dotfiles-mol-bce","type":"parent-child","created_at":"2026-01-30T08:07:38.011370551-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-jg4","title":"Gate: human","description":"Async gate for step impl-uat","status":"tombstone","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:10:26.559366938-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"gate","await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-l51","title":"RATIFY: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:10:26.557382407-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-lz5","title":"test-children","description":"Test formula with children","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:04:38.80738563-08:00","updated_at":"2026-01-30T08:04:54.733487284-08:00","deleted_at":"2026-01-30T08:04:54.733487284-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-mgn","title":"Parent: Test","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:04:38.807866657-08:00","updated_at":"2026-01-30T08:04:54.733487284-08:00","deleted_at":"2026-01-30T08:04:54.733487284-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-n08","title":"Step 2","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.449883502-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-naq","title":"UAT-1: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.564590945-08:00","updated_at":"2026-01-31T16:55:13.564591005-08:00","dependencies":[{"issue_id":"dotfiles-mol-naq","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.574769035-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-naq","depends_on_id":"dotfiles-mol-1fv","type":"blocks","created_at":"2026-01-31T16:55:13.576124812-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-naq","depends_on_id":"dotfiles-mol-9ba","type":"blocks","created_at":"2026-01-31T16:55:13.587417354-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-naq","depends_on_id":"dotfiles-mol-ceq","type":"blocks","created_at":"2026-01-31T16:55:13.588191584-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-naq","depends_on_id":"dotfiles-mol-ei3","type":"blocks","created_at":"2026-01-31T16:55:13.589037168-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-nnm","title":"Step 1: Test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:08.086721816-08:00","updated_at":"2026-01-30T08:04:22.323491741-08:00","deleted_at":"2026-01-30T08:04:22.323491741-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-ns6","title":"PROPOSAL-1: QEMU microVM NixOS Sandbox for LLM Agents","description":"## PROPOSAL-1: QEMU microVM NixOS Sandbox for LLM Agents\n\n### Problem Space\n\n**End Vision:** Secure sandbox for running untrusted LLM agent code (Claude Code, etc.) with multi-agent orchestration, local dev usage, and CI/CD integration.\n\n**Engineering Axes:**\n- **Parallelism:** 4-12 agents running concurrently, isolated from each other\n- **Distribution:** Single host, single VM (MVP), multi-VM later\n- **Isolation:** Hardware-level (KVM/QEMU) + namespace (jail.nix) + syscall (seccomp)\n- **Communication:** VSOCK-only (no TCP/IP attack surface in guest)\n\n**Has-a / Is-a Relationships:**\n- Host **has-a** Orchestrator **has-a** VM\n- VM **has-a** Supervisor **has-many** Agents\n- Agent **is-a** jailed process (bubblewrap sandbox)\n- Workspace **is-a** virtio-fs share (host ↔ guest)\n\n---\n\n### Engineering Tradeoffs\n\n| Decision | Options | Choice | Rationale |\n|----------|---------|--------|-----------|\n| Hypervisor | QEMU vs cloud-hypervisor vs Firecracker | **QEMU** | Only option with both virtio-fs AND VSOCK |\n| VM lifecycle | systemd vs manual | **systemd + tmux** | Auto-start + monitoring visibility |\n| In-VM isolation | None vs jail.nix vs containers | **jail.nix** | Defense-in-depth, NixOS-native |\n| Network | TCP/IP vs VSOCK-only | **VSOCK-only** | Zero network attack surface |\n| Workspace I/O | 9p vs virtio-fs vs block | **virtio-fs** | Near-native performance |\n\n---\n\n### MVP Milestone (Slice 1)\n\n**Scope:** Single VM with VSOCK + virtio-fs, systemd-managed, tmux-integrated\n\n**Deferred:**\n- Multi-agent jail.nix isolation (Slice 2)\n- Full orchestrator with task dispatch (Slice 3)\n- seccomp profiles (Slice 4)\n- Metrics/logging infrastructure (Slice 5)\n\n---\n\n### Public Interfaces\n\n```nix\n# modules/nixos/llm-sandbox/default.nix\n{\n  options.CUSTOM.virtualisation.llm-sandbox = {\n    enable = mkEnableOption \"LLM agent sandbox using QEMU microVM\";\n    \n    vm = {\n      vcpu = mkOption { type = int; default = 4; };\n      mem = mkOption { type = int; default = 4096; };  # MB\n      cid = mkOption { type = int; default = 3; };     # VSOCK CID\n    };\n    \n    workspace = {\n      hostPath = mkOption { \n        type = path; \n        default = \"/var/lib/llm-sandbox/workspace\"; \n      };\n      guestPath = mkOption { type = str; default = \"/workspace\"; };\n    };\n    \n    tmux = {\n      enable = mkOption { type = bool; default = true; };\n      sessionName = mkOption { type = str; default = \"llm-sandbox\"; };\n    };\n    \n    packages = {\n      python = mkOption { type = bool; default = true; };\n      nodejs = mkOption { type = bool; default = true; };\n      coreTools = mkOption { type = bool; default = true; };\n    };\n  };\n}\n```\n\n**CLI Interface:**\n```bash\nllm-sandbox start    # Start VM (or attach if running)\nllm-sandbox stop     # Stop VM gracefully\nllm-sandbox attach   # Attach to tmux session\nllm-sandbox status   # Show VM status\nllm-sandbox shell    # Get shell inside VM via VSOCK\n```\n\n---\n\n### File Structure\n\n```\nmodules/nixos/llm-sandbox/\n├── default.nix           # Main module with options\n├── vm-config.nix         # microvm.nix VM configuration  \n├── guest/\n│   ├── configuration.nix # Guest NixOS config\n│   ├── supervisor.py     # Guest supervisor (VSOCK listener)\n│   └── packages.nix      # Guest package sets\n├── host/\n│   ├── orchestrator.py   # Host-side VSOCK client\n│   └── cli.nix           # llm-sandbox CLI wrapper\n└── tmux/\n    └── integration.nix   # tmux session management\n```\n\n---\n\n### Validation Checklist\n\n- [ ] VM boots successfully with microvm.nix + QEMU\n- [ ] VSOCK communication works (host ↔ guest)\n- [ ] virtio-fs workspace mounts and persists writes\n- [ ] systemd service starts/stops VM cleanly\n- [ ] tmux session created with monitoring panes\n- [ ] CLI commands work (start, stop, attach, status, shell)\n- [ ] No TCP/IP networking inside guest\n- [ ] Integrates with existing tmux config (CUSTOM.programs.tmux)\n\n---\n\n### BDD Acceptance Criteria\n\n**Given** NixOS host with `CUSTOM.virtualisation.llm-sandbox.enable = true`\n**When** system activates\n**Then** microvm service is available but not started\n**Should Not** auto-start VM without explicit action\n\n**Given** user runs `llm-sandbox start`\n**When** VM is not running\n**Then** VM boots, VSOCK connects, tmux session created with panes for: orchestrator, VM console, logs\n**Should Not** fail silently on boot errors\n\n**Given** running VM\n**When** user runs `llm-sandbox shell`\n**Then** interactive shell opens inside VM via VSOCK\n**Should Not** require TCP/IP networking\n\n**Given** file written to `/workspace/test.txt` inside VM\n**When** file is synced via virtio-fs\n**Then** file appears at `workspace.hostPath/test.txt` on host\n**Should Not** have noticeable latency (\u003e100ms)\n\n**Given** user runs `llm-sandbox stop`\n**When** VM is running\n**Then** VM shuts down gracefully, tmux session preserved for logs\n**Should Not** lose unsaved workspace data\n\n---\n\n### Dependencies\n\n**Flake inputs required:**\n```nix\ninputs.microvm.url = \"github:microvm-nix/microvm.nix\";\ninputs.microvm.inputs.nixpkgs.follows = \"nixpkgs\";\n```\n\n**Host packages:** socat (VSOCK bridge), tmux (monitoring)\n**Guest packages:** python3, nodejs, git, curl, jq, ripgrep, coreutils\n\n---\n\n### Security Model\n\n```\nLayer 1: Host kernel         - Linux namespaces, cgroups\nLayer 2: KVM hypervisor      - Hardware isolation (VM escape = rare)\nLayer 3: VSOCK-only network  - No TCP/IP stack (no network attacks)\nLayer 4: Read-only rootfs    - Immutable guest OS\nLayer 5: [Future] jail.nix   - Per-agent bubblewrap sandboxes\nLayer 6: [Future] seccomp    - Syscall filtering\n```\n\n---\n\n### Risk Assessment\n\n| Risk | Likelihood | Impact | Mitigation |\n|------|------------|--------|------------|\n| VM escape | Very Low | Critical | Keep QEMU updated, minimal attack surface |\n| VSOCK vulnerability | Low | High | Protocol is simple, kernel-maintained |\n| virtio-fs data loss | Medium | Medium | Regular host-side backups |\n| Resource exhaustion | Medium | Low | cgroups limits in microvm config |\n","design":"{\"validation_checklist\":[\"VM boots with microvm.nix + QEMU\",\"VSOCK host-guest communication\",\"virtio-fs workspace mounts\",\"systemd service lifecycle\",\"tmux session integration\",\"CLI commands functional\",\"No TCP/IP in guest\",\"Integrates with existing tmux\"],\"acceptance_criteria\":[{\"given\":\"NixOS host with llm-sandbox enabled\",\"when\":\"system activates\",\"then\":\"microvm service available but not started\"},{\"given\":\"user runs llm-sandbox start\",\"when\":\"VM not running\",\"then\":\"VM boots, VSOCK connects, tmux session created\"},{\"given\":\"running VM\",\"when\":\"user runs llm-sandbox shell\",\"then\":\"interactive shell via VSOCK\"},{\"given\":\"file written in VM workspace\",\"when\":\"synced via virtio-fs\",\"then\":\"file appears on host\"},{\"given\":\"user runs llm-sandbox stop\",\"when\":\"VM running\",\"then\":\"graceful shutdown, tmux preserved\"}],\"tradeoffs\":[{\"decision\":\"QEMU hypervisor\",\"rationale\":\"Only option with both virtio-fs AND VSOCK support\"},{\"decision\":\"VSOCK-only networking\",\"rationale\":\"Zero TCP/IP attack surface in guest\"},{\"decision\":\"systemd + tmux lifecycle\",\"rationale\":\"Auto-start capability with monitoring visibility\"},{\"decision\":\"virtio-fs for workspace\",\"rationale\":\"Near-native I/O performance for LLM transcripts\"}]}","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:07:38.001959217-08:00","updated_at":"2026-01-30T08:31:50.679768706-08:00","closed_at":"2026-01-30T08:31:50.679768706-08:00","close_reason":"Proposal complete, ready for review","dependencies":[{"issue_id":"dotfiles-mol-ns6","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.009198837-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-ns6","depends_on_id":"dotfiles-mol-97q","type":"blocks","created_at":"2026-01-30T08:07:38.024053112-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-ohs","title":"UAT-1: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.556950363-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-oyq","title":"Child 3","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.451061513-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-p3n","title":"test-deps","description":"Test formula with dependencies","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:04:08.086248294-08:00","updated_at":"2026-01-30T08:04:22.323491741-08:00","deleted_at":"2026-01-30T08:04:22.323491741-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-poa","title":"REVIEW-3: proposal-1","description":"VOTE: ACCEPT\n\n**Justification:** The proposal is well-aligned with user requirements and technically sound. The MVP scope is appropriate - single VM with VSOCK + virtio-fs is the correct minimal slice. The QEMU hypervisor choice is justified (only option supporting both virtio-fs AND VSOCK). The security model (VSOCK-only, read-only root) is appropriate for LLM agent isolation.\n\n**Concerns (minor, addressable during implementation):**\n1. CID hardcoded to 3 - fine for MVP but note for multi-VM future\n2. virtiofsd dependency implicit via microvm.nix - should validate during implementation\n3. Module location should be `modules/nixos/virtualisation/llm-sandbox/` for consistency with existing structure\n4. Home-manager tmux integration mechanism needs clarification during implementation\n\n**Suggestions:**\n1. Add resource limits (vcpu, mem) validation in the module options\n2. Clarify error surfacing strategy (where do boot errors appear?)\n3. Document workspace ownership requirements for non-root CLI usage\n4. Consider adding a `llm-sandbox logs` command to the CLI for debugging","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.002945066-08:00","updated_at":"2026-01-30T08:34:03.724975479-08:00","closed_at":"2026-01-30T08:34:03.724975479-08:00","close_reason":"ACCEPT - Review complete","dependencies":[{"issue_id":"dotfiles-mol-poa","depends_on_id":"dotfiles-mol-bce","type":"parent-child","created_at":"2026-01-30T08:07:38.012077714-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-pu9","title":"RATIFY: Web Terminal Access for llm-sandbox microVM","status":"open","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-31T16:55:13.565148416-08:00","updated_at":"2026-01-31T16:55:13.565148446-08:00","dependencies":[{"issue_id":"dotfiles-mol-pu9","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.576822467-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-pu9","depends_on_id":"dotfiles-mol-naq","type":"blocks","created_at":"2026-01-31T16:55:13.589837708-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-qc1","title":"REQUEST: QEMU microVM NixOS Sandbox for LLM Agents","description":"Implement the qemu-microvm-nix-llm.md plan: secure sandbox for 4-12 LLM agents using microvm.nix + QEMU, virtio-fs for I/O, VSOCK for host-guest communication, jail.nix for defense-in-depth, and tmux integration for session management.","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:07:38.001190188-08:00","updated_at":"2026-01-30T08:14:28.05410806-08:00","closed_at":"2026-01-30T08:14:28.054110074-08:00","dependencies":[{"issue_id":"dotfiles-mol-qc1","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.006446327-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-qmw","title":"RATIFY: QEMU microVM NixOS Sandbox for LLM Agents","description":"## RATIFIED PLAN\n\n**Feature:** QEMU microVM NixOS Sandbox for LLM Agents\n\n**Consensus:** 3/3 Reviewers ACCEPT, User UAT ACCEPT (with scope revision)\n\n---\n\n### Final MVP Scope\n\n**Deliverable:** NixOS module at `modules/nixos/virtualisation/llm-sandbox/`\n\n**What it configures:**\n1. microvm.nix VM with QEMU hypervisor\n2. Guest NixOS with: Claude Code, tmux, Python, Node.js, git, curl, jq, ripgrep\n3. virtio-fs share: host `/var/lib/llm-sandbox/workspace` → guest `/workspace`\n4. VSOCK communication (CID=3), no TCP/IP networking\n5. Read-only rootfs\n\n**Start/Stop:** Use existing microvm tooling:\n- `microvm -c llm-sandbox` or\n- `systemctl start microvm@llm-sandbox`\n\n**NOT in MVP:**\n- Custom CLI wrapper\n- Host-side orchestrator\n- Multi-agent isolation (jail.nix)\n- seccomp profiles\n- Metrics/logging\n\n---\n\n### Acceptance Criteria (Revised)\n\n**Given** NixOS host imports llm-sandbox module\n**When** module is enabled\n**Then** microvm@llm-sandbox service is available\n\n**Given** user starts the microVM\n**When** VM boots\n**Then** Claude Code and tmux are available inside guest\n\n**Given** file written to /workspace inside VM\n**When** virtio-fs syncs\n**Then** file appears on host at configured workspace path\n\n**Given** guest networking\n**When** inspected\n**Then** no TCP/IP interfaces exist, only VSOCK","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-30T08:07:38.003639255-08:00","updated_at":"2026-01-30T08:37:05.549587391-08:00","closed_at":"2026-01-30T08:37:05.549587391-08:00","close_reason":"RATIFIED: 3/3 reviewers ACCEPT, UAT ACCEPT with simplified scope","dependencies":[{"issue_id":"dotfiles-mol-qmw","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.015256367-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-qmw","depends_on_id":"dotfiles-mol-c4x","type":"blocks","created_at":"2026-01-30T08:07:38.027916506-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-rpk","title":"Gate: human","description":"Async gate for step impl-uat","status":"closed","priority":2,"issue_type":"gate","created_at":"2026-01-30T08:07:38.00576349-08:00","updated_at":"2026-01-30T09:01:46.821186526-08:00","closed_at":"2026-01-30T09:01:46.821186526-08:00","close_reason":"Code review consensus (3/3 ACCEPT), proceeding to implementation UAT","dependencies":[{"issue_id":"dotfiles-mol-rpk","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.021344065-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-srv","title":"SLICE-A: Test slice","description":"Testing\n\nFiles: ","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:03:32.654429145-08:00","updated_at":"2026-01-30T08:03:47.04705643-08:00","deleted_at":"2026-01-30T08:03:47.04705643-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-svp","title":"IMPL-AGGREGATE: QEMU microVM NixOS Sandbox for LLM Agents","description":"Aggregate all slice implementations. Check that all dynamically-spawned slices are complete before proceeding.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.004365043-08:00","updated_at":"2026-01-30T09:00:06.641360763-08:00","closed_at":"2026-01-30T09:00:06.641360763-08:00","close_reason":"All slices implemented and verified","dependencies":[{"issue_id":"dotfiles-mol-svp","depends_on_id":"dotfiles-mol-gus","type":"parent-child","created_at":"2026-01-30T08:07:38.017282818-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-svp","depends_on_id":"dotfiles-mol-abb","type":"blocks","created_at":"2026-01-30T08:07:38.030461384-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-tcl","title":"Step 1: Test","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:04:22.435340736-08:00","updated_at":"2026-01-30T08:04:38.696179129-08:00","deleted_at":"2026-01-30T08:04:38.696179129-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-thz","title":"REVIEW-2: proposal-1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.556508389-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-u4u","title":"REVIEW: proposal-1","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-31T16:55:13.56356485-08:00","updated_at":"2026-01-31T16:55:13.56356489-08:00","dependencies":[{"issue_id":"dotfiles-mol-u4u","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.572009723-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-u4u","depends_on_id":"dotfiles-mol-fbf","type":"blocks","created_at":"2026-01-31T16:55:13.586641792-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-ub6","title":"REVIEW-1: proposal-1","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.55628587-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-v6e","title":"HANDOFF: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.557600769-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-vag","title":"Step 5","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:05:12.451289163-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-vd3","title":"CODE-REVIEW-2","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.558718175-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-vda","title":"Gate: human","description":"Async gate for step elicit","status":"closed","priority":2,"issue_type":"gate","created_at":"2026-01-31T16:55:13.562973535-08:00","updated_at":"2026-01-31T16:59:33.422281783-08:00","closed_at":"2026-01-31T16:59:33.422281783-08:00","close_reason":"Gate passed: fast-forwarding approved phases","dependencies":[{"issue_id":"dotfiles-mol-vda","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.569801329-08:00","created_by":"David Huu Pham"}],"await_type":"human","timeout":86400000000000}
{"id":"dotfiles-mol-vdm","title":"CODE-REVIEW-3","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.566970581-08:00","updated_at":"2026-01-31T16:55:13.566970621-08:00","dependencies":[{"issue_id":"dotfiles-mol-vdm","depends_on_id":"dotfiles-mol-e6e","type":"parent-child","created_at":"2026-01-31T16:55:13.58166595-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-vy7","title":"CODE-REVIEW-1","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.566474065-08:00","updated_at":"2026-01-31T16:55:13.566474095-08:00","dependencies":[{"issue_id":"dotfiles-mol-vy7","depends_on_id":"dotfiles-mol-e6e","type":"parent-child","created_at":"2026-01-31T16:55:13.58028185-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-w5p","title":"CODE-REVIEW-2","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-31T16:55:13.566705872-08:00","updated_at":"2026-01-31T16:55:13.566705902-08:00","dependencies":[{"issue_id":"dotfiles-mol-w5p","depends_on_id":"dotfiles-mol-e6e","type":"parent-child","created_at":"2026-01-31T16:55:13.580982241-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-wks","title":"IMPL-UAT: QEMU microVM NixOS Sandbox for LLM Agents","status":"tombstone","priority":2,"issue_type":"task","created_at":"2026-01-30T08:10:26.559156672-08:00","updated_at":"2026-01-30T08:11:37.68788617-08:00","deleted_at":"2026-01-30T08:11:37.68788617-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-mol-wro","title":"test-chain","description":"Test long dependency chain","status":"tombstone","priority":2,"issue_type":"epic","created_at":"2026-01-30T08:05:12.449152985-08:00","updated_at":"2026-01-30T08:05:38.132846337-08:00","deleted_at":"2026-01-30T08:05:38.132846337-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"epic"}
{"id":"dotfiles-mol-yy2","title":"ELICIT: Web Terminal Access for llm-sandbox microVM","status":"closed","priority":2,"issue_type":"task","assignee":"architect","created_at":"2026-01-31T16:55:13.56266354-08:00","updated_at":"2026-01-31T16:59:38.721010882-08:00","closed_at":"2026-01-31T16:59:38.721010882-08:00","close_reason":"Requirements elicited: VSOCK-only terminal access via ttyd+socat bridge","dependencies":[{"issue_id":"dotfiles-mol-yy2","depends_on_id":"dotfiles-mol-1mv","type":"parent-child","created_at":"2026-01-31T16:55:13.569111057-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-yy2","depends_on_id":"dotfiles-mol-vda","type":"blocks","created_at":"2026-01-31T16:55:13.570529863-08:00","created_by":"David Huu Pham"},{"issue_id":"dotfiles-mol-yy2","depends_on_id":"dotfiles-mol-d5c","type":"blocks","created_at":"2026-01-31T16:55:13.585177341-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-mol-z4m","title":"REVIEW-1: proposal-1","description":"VOTE: ACCEPT\n\n**Justification:**\n\nFrom an END-USER perspective, this proposal is well-aligned with the stated requirements:\n\n1. **Problem-Solution Fit:** The user wants multi-agent orchestration, local dev sandbox, and CI/CD integration. The proposal delivers an MVP that provides the foundation (single VM + VSOCK + virtio-fs) while explicitly deferring multi-agent features to later slices. This is appropriate scoping.\n\n2. **MVP Scope is Correct:**\n   - Not too big: Single VM, basic CLI, systemd + tmux integration\n   - Not too small: Includes the critical security features (VSOCK-only, read-only root) that make this useful for running untrusted LLM code\n   - Deferred items (multi-agent jail.nix, orchestrator, seccomp, metrics) are logical next steps\n\n3. **Technical Feasibility:**\n   - QEMU choice is correct - only hypervisor with both virtio-fs AND VSOCK\n   - File structure at modules/nixos/llm-sandbox/ follows existing patterns in the dotfiles\n   - Integration with existing CUSTOM.programs.tmux config is mentioned\n   - The public interface (NixOS options + CLI) is well-defined and testable\n\n4. **User-Centric Design:**\n   - CLI interface (start/stop/attach/status/shell) matches how developers actually interact with dev environments\n   - tmux integration provides the monitoring visibility operators need\n   - virtio-fs for workspace ensures near-native I/O - important for LLM transcript writes\n\n**Concerns:**\n\n1. **VSOCK shell complexity:** The 'llm-sandbox shell' command via VSOCK may require careful implementation. The proposal doesn't detail how interactive PTY allocation works over VSOCK. This is solvable but worth noting.\n\n2. **Host package dependencies:** The proposal mentions socat for VSOCK bridge but doesn't specify how this integrates with the NixOS module (should be in environment.systemPackages).\n\n3. **Error handling:** BDD criteria say 'Should Not fail silently on boot errors' but no specific error reporting mechanism is proposed.\n\n**Suggestions:**\n\n1. Consider adding a vm.waitForBoot option with timeout for CI/CD use cases where blocking until ready is needed.\n\n2. The CLI wrapper should probably live in the NixOS module itself (as a package) rather than a separate host/cli.nix for cleaner deployment.\n\n3. Add explicit version requirements for microvm.nix flake input to avoid breaking changes.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-30T08:07:38.002437449-08:00","updated_at":"2026-01-30T08:34:03.635394189-08:00","closed_at":"2026-01-30T08:34:03.635394189-08:00","close_reason":"ACCEPT - Review complete","dependencies":[{"issue_id":"dotfiles-mol-z4m","depends_on_id":"dotfiles-mol-bce","type":"parent-child","created_at":"2026-01-30T08:07:38.010519487-08:00","created_by":"David Huu Pham"}]}
{"id":"dotfiles-nc1","title":"Disable VRR on desktop monitors - fixes boot tearing with NVIDIA","status":"closed","priority":2,"issue_type":"bug","owner":"dayvidpham@gmail.com","created_at":"2026-01-31T16:00:49.950059651-08:00","created_by":"David Huu Pham","updated_at":"2026-01-31T16:00:54.265425697-08:00","closed_at":"2026-01-31T16:00:54.265425697-08:00","close_reason":"Set adaptiveSync=false for all desktop monitors in kanshi config. VRR was causing tearing artifacts at boot with NVIDIA GPU."}
{"id":"dotfiles-qy0","title":"Test blocker","status":"tombstone","priority":2,"issue_type":"task","owner":"dayvidpham@gmail.com","created_at":"2026-01-30T07:59:50.426396526-08:00","created_by":"David Huu Pham","updated_at":"2026-01-30T08:01:43.529450482-08:00","deleted_at":"2026-01-30T08:01:43.529450482-08:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"dotfiles-znt","title":"Test gate","status":"tombstone","priority":2,"issue_type":"gate","owner":"dayvidpham@gmail.com","created_at":"2026-01-30T08:02:02.920590922-08:00","created_by":"David Huu Pham","updated_at":"2026-01-30T08:02:18.080511213-08:00","deleted_at":"2026-01-30T08:02:18.080511213-08:00","deleted_by":"David Huu Pham","delete_reason":"delete","original_type":"gate"}
